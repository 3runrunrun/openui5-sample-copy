sap.ui.require(["sap/ui/Device","sap/ui/test/Opa5","sap/ui/test/matchers/AggregationLengthEquals","sap/ui/test/matchers/PropertyStrictEquals","sap/ui/test/matchers/Ancestor","sap/ui/test/matchers/Properties","sap/ui/test/actions/EnterText","sap/ui/test/actions/Press"],function(e,t,s,r,i,n,o,a){"use strict";var c="sap.ui.demo.todo.view.App";var u="addTodoItemInput";var m="searchTodoItemsInput";var h="todoList";var g=e.browser.mobile?"toolbar-footer":"toolbar";var d=e.browser.mobile?"clearCompleted-footer":"clearCompleted";t.createPageObjects({onTheAppPage:{actions:{iEnterTextForNewItemAndPressEnter:function(e){return this.waitFor({id:u,viewName:c,actions:[new o({text:e})],errorMessage:"The text cannot be entered"})},iEnterTextForSearchAndPressEnter:function(e){this._waitForToolbar();return this.waitFor({id:m,viewName:c,actions:[new o({text:e})],errorMessage:"The text cannot be entered"})},iSelectTheLastItem:function(e){return this.waitFor({id:h,viewName:c,actions:[function(t){var s=t.getItems().length;var r=t.getItems()[s-1].getContent()[0].getItems()[0];this._triggerCheckboxSelection(r,e)}.bind(this)],errorMessage:"Last checkbox cannot be pressed"})},iSelectAllItems:function(e){return this.waitFor({id:h,viewName:c,actions:[function(t){t.getItems().forEach(function(t){var s=t.getContent()[0].getItems()[0];this._triggerCheckboxSelection(s,e)}.bind(this))}.bind(this)],errorMessage:"checkbox cannot be pressed"})},_triggerCheckboxSelection:function(e,t){if(e.getSelected()&&!t||!e.getSelected()&&t){var s=new a;s.controlAdapters["sap.m.CustomListItem"]="selectMulti-CB";s.executeOn(e)}},iClearTheCompletedItems:function(){this._waitForToolbar();return this.waitFor({id:d,viewName:c,actions:[new a],errorMessage:"checkbox cannot be pressed"})},iFilterForItems:function(e){this._waitForToolbar();return this.waitFor({viewName:c,controlType:"sap.m.SegmentedButtonItem",matchers:[new n({key:e})],actions:[new a],errorMessage:"SegmentedButton can not be pressed"})},_waitForToolbar:function(){this.waitFor({id:g,viewName:c,success:function(e){return this.waitFor({controlType:"sap.m.ToggleButton",visible:false,success:function(s){var r=s.find(function(t){return t.getId().startsWith(e.getId())&&t.getParent()===e});if(r){this.waitFor({id:r.getId(),actions:new a})}else{t.assert.ok(true,"The overflow toggle button is not present")}}})}})}},assertions:{iShouldSeeTheItemBeingAdded:function(e,i){return this.waitFor({id:h,viewName:c,matchers:[new s({name:"items",length:e}),function(e){var t=e.getItems().length;var s=e.getItems()[t-1].getContent()[0].getItems()[1].getItems()[0];return new r({name:"text",value:i}).isMatching(s)}],success:function(){t.assert.ok(true,"The table has "+e+" item(s), with '"+i+"' as last item")},errorMessage:"List does not have expected entry '"+i+"'."})},iShouldSeeTheLastItemBeingCompleted:function(e){return this.waitFor({id:h,viewName:c,matchers:[function(t){var s=t.getItems().length;var r=t.getItems()[s-1].getContent()[0].getItems()[0];return e&&r.getSelected()||!e&&!r.getSelected()}],success:function(){t.assert.ok(true,"The last item is marked as completed")},errorMessage:"The last item is not disabled."})},iShouldSeeAllButOneItemBeingRemoved:function(e){return this.waitFor({id:h,viewName:c,matchers:[new s({name:"items",length:1}),function(t){var s=t.getItems()[0].getContent()[0].getItems()[1].getItems()[0];return new r({name:"text",value:e}).isMatching(s)}],success:function(){t.assert.ok(true,"The table has 1 item, with '"+e+"' as Last item")},errorMessage:"List does not have expected entry '"+e+"'."})},iShouldSeeItemCount:function(e){return this.waitFor({id:h,viewName:c,matchers:[new s({name:"items",length:e})],success:function(){t.assert.ok(true,"The table has "+e+" item(s)")},errorMessage:"List does not have expected number of items '"+e+"'."})}}}})});
//# sourceMappingURL=App.js.map